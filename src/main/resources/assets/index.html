<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="refresh" content="1" />
</head>

<body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<script>
    // Start the order generation.
    function start() {
        $.post("/api/kitchens/starts", function(data, status) {
        })
    }

    function writeState(state) {
        console.log(state);

        $.each(state.hotEntries, function(i, entry) {
            var json = JSON.stringify(entry);
            console.log("### " + json);

            var row = document.createElement("div");
            row.innerHTML = json;

            var shelves = document.getElementById("shelves");
            shelves.appendChild(row);
        });

        $.each(state.coldEntries, function(i, entry) {
            var json = JSON.stringify(entry);
            console.log("### " + json);

            var row = document.createElement("div");
            row.innerHTML = json;

            var shelves = document.getElementById("shelves");
            shelves.appendChild(row);
        });

        $.each(state.frozenEntries, function(i, entry) {
            var json = JSON.stringify(entry);
            console.log("### " + json);

            var row = document.createElement("div");
            row.innerHTML = json;

            var shelves = document.getElementById("shelves");
            shelves.appendChild(row);
        });

        $.each(state.overflowEntries, function(i, entry) {
            var json = JSON.stringify(entry);
            console.log("### " + json);

            var row = document.createElement("div");
            row.innerHTML = json;

            var shelves = document.getElementById("shelves");
            shelves.appendChild(row);
        });
    }

    $(document).ready(function() {
        $.getJSON("/api/kitchens", function(result) {
            writeState(result)
        })
    });
</script>

<h1>KITCHEN</h1>

<button onclick="start()">Generate orders</button>

<div id="shelves"></div>
</body>
</html>
