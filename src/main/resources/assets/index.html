<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="refresh" content="1" />
</head>

<body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<script>
    // Start the order generation.
    function start() {
        $.post("/api/kitchens/starts", function(data, status) {
        })
    }

    function writeShelf(name, entries) {
        var header = document.createElement("h3");
        header.innerHTML = name + " shelf";

        var shelves = document.getElementById("shelves");
        shelves.appendChild(header);

        $.each(entries, function(i, entry) {
            var json = JSON.stringify(entry);
            console.log("### " + json);

            var row = document.createElement("div");
            row.innerHTML = json;

            shelves.appendChild(row);
        });
    }

    function writeState(state) {
        console.log(state);

        writeShelf("hot", state.hotEntries);
        writeShelf("cold", state.coldEntries);
        writeShelf("frozen", state.frozenEntries);
        writeShelf("overflow", state.overflowEntries);
    }

    $(document).ready(function() {
        $.getJSON("/api/kitchens", function(result) {
            writeState(result)
        })
    });
</script>

<h1>KITCHEN</h1>

<button onclick="start()">Generate orders</button>

<div id="shelves"></div>
</body>
</html>
